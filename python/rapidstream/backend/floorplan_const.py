
INIT_PLACEMENT_ANCHOR_PBLOCK_ISLAND_X0Y0_NORTH = 'LAGUNA_X0Y0:LAGUNA_X15Y119'
INIT_PLACEMENT_ANCHOR_PBLOCK_ISLAND_X1Y0_NORTH = 'LAGUNA_X16Y0:LAGUNA_X25Y119'
INIT_PLACEMENT_ANCHOR_PBLOCK_ISLAND_X0Y1_NORTH = 'LAGUNA_X0Y240:LAGUNA_X15Y359'
INIT_PLACEMENT_ANCHOR_PBLOCK_ISLAND_X1Y1_NORTH = 'LAGUNA_X16Y240:LAGUNA_X25Y359'

INIT_PLACEMENT_ANCHOR_PBLOCK_ISLAND_X0Y1_SOUTH = INIT_PLACEMENT_ANCHOR_PBLOCK_ISLAND_X0Y0_NORTH
INIT_PLACEMENT_ANCHOR_PBLOCK_ISLAND_X1Y1_SOUTH = INIT_PLACEMENT_ANCHOR_PBLOCK_ISLAND_X1Y0_NORTH
INIT_PLACEMENT_ANCHOR_PBLOCK_ISLAND_X0Y2_SOUTH = INIT_PLACEMENT_ANCHOR_PBLOCK_ISLAND_X0Y1_NORTH
INIT_PLACEMENT_ANCHOR_PBLOCK_ISLAND_X1Y2_SOUTH = INIT_PLACEMENT_ANCHOR_PBLOCK_ISLAND_X1Y1_NORTH

SLICE_ROWS_ON_SLR_BOUNDARIES = [239, 240, 479, 480]

INIT_PLACEMENT_SLICE_BESIDE_ANCHOR_PBLOCK_ISLAND_X0Y0_NORTH = '''
  SLICE_X9Y180:SLICE_X9Y239
  SLICE_X20Y180:SLICE_X20Y239
  SLICE_X38Y180:SLICE_X38Y239
  SLICE_X51Y180:SLICE_X51Y239
  SLICE_X64Y180:SLICE_X64Y239
  SLICE_X86Y180:SLICE_X86Y239
  SLICE_X98Y180:SLICE_X98Y239
  SLICE_X112Y180:SLICE_X112Y239
'''

INIT_PLACEMENT_SLICE_BESIDE_ANCHOR_PBLOCK_ISLAND_X1Y0_NORTH = '''
  SLICE_X125Y180:SLICE_X125Y239
  SLICE_X140Y180:SLICE_X140Y239
  SLICE_X153Y180:SLICE_X153Y239
  SLICE_X165Y180:SLICE_X165Y239
  SLICE_X183Y180:SLICE_X183Y239
  SLICE_X195Y180:SLICE_X195Y239
  SLICE_X215Y180:SLICE_X215Y239
  SLICE_X226Y180:SLICE_X226Y239
'''

INIT_PLACEMENT_SLICE_BESIDE_ANCHOR_PBLOCK_ISLAND_X0Y1_NORTH = '''
  SLICE_X9Y420:SLICE_X9Y479
  SLICE_X20Y420:SLICE_X20Y479
  SLICE_X38Y420:SLICE_X38Y479
  SLICE_X51Y420:SLICE_X51Y479
  SLICE_X64Y420:SLICE_X64Y479
  SLICE_X86Y420:SLICE_X86Y479
  SLICE_X98Y420:SLICE_X98Y479
  SLICE_X112Y420:SLICE_X112Y479
'''

INIT_PLACEMENT_SLICE_BESIDE_ANCHOR_PBLOCK_ISLAND_X1Y1_NORTH = '''
  SLICE_X125Y420:SLICE_X125Y479
  SLICE_X140Y420:SLICE_X140Y479
  SLICE_X153Y420:SLICE_X153Y479
  SLICE_X165Y420:SLICE_X165Y479
  SLICE_X183Y420:SLICE_X183Y479
  SLICE_X195Y420:SLICE_X195Y479
  SLICE_X215Y420:SLICE_X215Y479
  SLICE_X226Y420:SLICE_X226Y479
'''

INIT_PLACEMENT_SLICE_BESIDE_ANCHOR_PBLOCK_ISLAND_X0Y1_SOUTH = INIT_PLACEMENT_SLICE_BESIDE_ANCHOR_PBLOCK_ISLAND_X0Y0_NORTH
INIT_PLACEMENT_SLICE_BESIDE_ANCHOR_PBLOCK_ISLAND_X1Y1_SOUTH = INIT_PLACEMENT_SLICE_BESIDE_ANCHOR_PBLOCK_ISLAND_X1Y0_NORTH
INIT_PLACEMENT_SLICE_BESIDE_ANCHOR_PBLOCK_ISLAND_X0Y2_SOUTH = INIT_PLACEMENT_SLICE_BESIDE_ANCHOR_PBLOCK_ISLAND_X0Y1_NORTH
INIT_PLACEMENT_SLICE_BESIDE_ANCHOR_PBLOCK_ISLAND_X1Y2_SOUTH = INIT_PLACEMENT_SLICE_BESIDE_ANCHOR_PBLOCK_ISLAND_X1Y1_NORTH


ISLAND_TO_DIR_TO_SLICES_BESIDE_LAGUNAS = {
  'WRAPPER_VERTEX_CR_X0Y8_To_CR_X3Y11': {
    'EAST': '',
    'SOUTH': INIT_PLACEMENT_SLICE_BESIDE_ANCHOR_PBLOCK_ISLAND_X0Y2_SOUTH,
  },
  'WRAPPER_VERTEX_CR_X0Y4_To_CR_X3Y7': {
    'NORTH': INIT_PLACEMENT_SLICE_BESIDE_ANCHOR_PBLOCK_ISLAND_X0Y1_NORTH,
    'SOUTH': INIT_PLACEMENT_SLICE_BESIDE_ANCHOR_PBLOCK_ISLAND_X0Y1_SOUTH,
    'EAST': '',
  },
  'WRAPPER_VERTEX_CR_X0Y0_To_CR_X3Y3': {
    'NORTH': INIT_PLACEMENT_SLICE_BESIDE_ANCHOR_PBLOCK_ISLAND_X0Y0_NORTH,
    'EAST': '',
  },
  'WRAPPER_VERTEX_CR_X4Y8_To_CR_X7Y11': {
    'WEST': '',
    'SOUTH': INIT_PLACEMENT_SLICE_BESIDE_ANCHOR_PBLOCK_ISLAND_X1Y2_SOUTH,
  },
  'WRAPPER_VERTEX_CR_X4Y4_To_CR_X7Y7': {
    'NORTH': INIT_PLACEMENT_SLICE_BESIDE_ANCHOR_PBLOCK_ISLAND_X1Y1_NORTH,
    'WEST': '',
    'SOUTH': INIT_PLACEMENT_SLICE_BESIDE_ANCHOR_PBLOCK_ISLAND_X1Y1_SOUTH,
  },
  'CTRL_WRAPPER_VERTEX_CR_X4Y0_To_CR_X7Y3': {
    'NORTH': INIT_PLACEMENT_SLICE_BESIDE_ANCHOR_PBLOCK_ISLAND_X1Y0_NORTH,
    'WEST': '',
  },
}

# the column index of the SLICE to the right of the laguna column
# this SLICE column share the same INT with the laguna column
SLICE_COLUMN_INDICES_BESIDES_LAGUNS = (
  9,
  20,
  38,
  51,
  64,
  86,
  98,
  112,
  125,
  140,
  153,
  165,
  183,
  195,
  215,
  226,
)

# include the row above/below the lagunas
SLICE_ROW_INDICES_BESIDES_LAGUNS = (
  (179, 300),
  (419, 540),
)

# two SLICE columns to the left of LAGUNA, three SLICE
SLICE_COLUMNS_BESIDES_LAGUNS = '\n'.join(
  f'SLICE_X{x}Y{y_low}:SLICE_X{x}Y{y_high}' 
    for x in SLICE_COLUMN_INDICES_BESIDES_LAGUNS
      for y_low, y_high in SLICE_ROW_INDICES_BESIDES_LAGUNS
)
  

ANCHOR_PBLOCK_ISLAND_X0Y0_EAST = 'SLICE_X118Y16:SLICE_X119Y239'
ANCHOR_PBLOCK_ISLAND_X0Y1_EAST = 'SLICE_X118Y240:SLICE_X119Y479'
ANCHOR_PBLOCK_ISLAND_X0Y2_EAST = 'SLICE_X118Y480:SLICE_X119Y719'

ANCHOR_PBLOCK_ISLAND_X1Y0_WEST = ANCHOR_PBLOCK_ISLAND_X0Y0_EAST
ANCHOR_PBLOCK_ISLAND_X1Y1_WEST = ANCHOR_PBLOCK_ISLAND_X0Y1_EAST
ANCHOR_PBLOCK_ISLAND_X1Y2_WEST = ANCHOR_PBLOCK_ISLAND_X0Y2_EAST

ISLAND_TO_DIR_TO_ANCHOR_PBLOCK = {
  'WRAPPER_VERTEX_CR_X0Y8_To_CR_X3Y11': {
    'EAST': ANCHOR_PBLOCK_ISLAND_X0Y2_EAST,
    'SOUTH': INIT_PLACEMENT_ANCHOR_PBLOCK_ISLAND_X0Y2_SOUTH,
  },
  'WRAPPER_VERTEX_CR_X0Y4_To_CR_X3Y7': {
    'NORTH': INIT_PLACEMENT_ANCHOR_PBLOCK_ISLAND_X0Y1_NORTH,
    'SOUTH': INIT_PLACEMENT_ANCHOR_PBLOCK_ISLAND_X0Y1_SOUTH,
    'EAST': ANCHOR_PBLOCK_ISLAND_X0Y1_EAST,
  },
  'WRAPPER_VERTEX_CR_X0Y0_To_CR_X3Y3': {
    'NORTH': INIT_PLACEMENT_ANCHOR_PBLOCK_ISLAND_X0Y0_NORTH,
    'EAST': ANCHOR_PBLOCK_ISLAND_X0Y0_EAST,
  },
  'WRAPPER_VERTEX_CR_X4Y8_To_CR_X7Y11': {
    'WEST': ANCHOR_PBLOCK_ISLAND_X1Y2_WEST,
    'SOUTH': INIT_PLACEMENT_ANCHOR_PBLOCK_ISLAND_X1Y2_SOUTH,
  },
  'WRAPPER_VERTEX_CR_X4Y4_To_CR_X7Y7': {
    'NORTH': INIT_PLACEMENT_ANCHOR_PBLOCK_ISLAND_X1Y1_NORTH,
    'WEST': ANCHOR_PBLOCK_ISLAND_X1Y1_WEST,
    'SOUTH': INIT_PLACEMENT_ANCHOR_PBLOCK_ISLAND_X1Y1_SOUTH,
  },
  'CTRL_WRAPPER_VERTEX_CR_X4Y0_To_CR_X7Y3': {
    'NORTH': INIT_PLACEMENT_ANCHOR_PBLOCK_ISLAND_X1Y0_NORTH,
    'WEST': ANCHOR_PBLOCK_ISLAND_X1Y0_WEST,
  },
}

ISLAND_TO_PBLOCK = {
  'WRAPPER_VERTEX_CR_X0Y0_To_CR_X3Y3': 'URAM288_X0Y4:URAM288_X1Y63 RAMB36_X0Y3:RAMB36_X7Y47 RAMB18_X0Y6:RAMB18_X7Y95 HARD_SYNC_X0Y0:HARD_SYNC_X15Y7 DSP48E2_X0Y0:DSP48E2_X15Y89 CMACE4_X0Y0:CMACE4_X0Y1 SLICE_X113Y15:SLICE_X116Y239 SLICE_X111Y15:SLICE_X112Y179 SLICE_X99Y15:SLICE_X110Y239 SLICE_X97Y15:SLICE_X98Y179 SLICE_X87Y15:SLICE_X96Y239 SLICE_X85Y15:SLICE_X86Y179 SLICE_X65Y15:SLICE_X84Y239 SLICE_X63Y15:SLICE_X64Y179 SLICE_X52Y15:SLICE_X62Y239 SLICE_X50Y15:SLICE_X51Y179 SLICE_X39Y15:SLICE_X49Y239 SLICE_X37Y15:SLICE_X38Y179 SLICE_X21Y15:SLICE_X36Y239 SLICE_X19Y15:SLICE_X20Y179 SLICE_X13Y15:SLICE_X18Y239 SLICE_X11Y60:SLICE_X12Y179 SLICE_X10Y15:SLICE_X10Y239 SLICE_X8Y15:SLICE_X9Y179 SLICE_X1Y15:SLICE_X7Y239',

  'WRAPPER_VERTEX_CR_X0Y4_To_CR_X3Y7': 'URAM288_X0Y64:URAM288_X1Y127 RAMB36_X0Y48:RAMB36_X7Y95 RAMB18_X0Y96:RAMB18_X7Y191 ILKNE4_X0Y0:ILKNE4_X0Y0 HARD_SYNC_X0Y8:HARD_SYNC_X15Y15 DSP48E2_X0Y90:DSP48E2_X15Y185 CMACE4_X0Y2:CMACE4_X0Y4 SLICE_X113Y240:SLICE_X116Y479 SLICE_X111Y300:SLICE_X112Y419 SLICE_X99Y240:SLICE_X110Y479 SLICE_X97Y300:SLICE_X98Y419 SLICE_X87Y240:SLICE_X96Y479 SLICE_X85Y300:SLICE_X86Y419 SLICE_X65Y240:SLICE_X84Y479 SLICE_X63Y300:SLICE_X64Y419 SLICE_X52Y240:SLICE_X62Y479 SLICE_X50Y300:SLICE_X51Y419 SLICE_X39Y240:SLICE_X49Y479 SLICE_X37Y300:SLICE_X38Y419 SLICE_X21Y240:SLICE_X36Y479 SLICE_X19Y300:SLICE_X20Y419 SLICE_X10Y240:SLICE_X18Y479 SLICE_X8Y300:SLICE_X9Y419 SLICE_X1Y240:SLICE_X7Y479',

  'WRAPPER_VERTEX_CR_X0Y8_To_CR_X3Y11': 'URAM288_X0Y128:URAM288_X1Y191 RAMB36_X0Y96:RAMB36_X7Y143 RAMB18_X0Y192:RAMB18_X7Y287 LAGUNA_X0Y480:LAGUNA_X15Y599 ILKNE4_X0Y2:ILKNE4_X0Y2 HARD_SYNC_X0Y16:HARD_SYNC_X15Y23 DSP48E2_X0Y186:DSP48E2_X15Y281 CMACE4_X0Y5:CMACE4_X0Y7 SLICE_X113Y480:SLICE_X116Y719 SLICE_X112Y540:SLICE_X112Y719 SLICE_X111Y540:SLICE_X111Y659 SLICE_X99Y480:SLICE_X110Y719 SLICE_X98Y540:SLICE_X98Y719 SLICE_X97Y540:SLICE_X97Y659 SLICE_X87Y480:SLICE_X96Y719 SLICE_X86Y540:SLICE_X86Y719 SLICE_X85Y540:SLICE_X85Y659 SLICE_X65Y480:SLICE_X84Y719 SLICE_X64Y540:SLICE_X64Y719 SLICE_X63Y540:SLICE_X63Y659 SLICE_X52Y480:SLICE_X62Y719 SLICE_X51Y540:SLICE_X51Y719 SLICE_X50Y540:SLICE_X50Y659 SLICE_X39Y480:SLICE_X49Y719 SLICE_X38Y540:SLICE_X38Y719 SLICE_X37Y540:SLICE_X37Y659 SLICE_X21Y480:SLICE_X36Y719 SLICE_X20Y540:SLICE_X20Y719 SLICE_X19Y540:SLICE_X19Y659 SLICE_X10Y480:SLICE_X18Y719 SLICE_X9Y540:SLICE_X9Y719 SLICE_X8Y540:SLICE_X8Y659 SLICE_X1Y480:SLICE_X7Y719',

  'CTRL_WRAPPER_VERTEX_CR_X4Y0_To_CR_X7Y3': 'URAM288_X4Y16:URAM288_X4Y63 URAM288_X2Y4:URAM288_X3Y63 RAMB36_X11Y12:RAMB36_X11Y47 RAMB36_X8Y3:RAMB36_X10Y47 RAMB18_X11Y24:RAMB18_X11Y95 RAMB18_X8Y6:RAMB18_X10Y95 DSP48E2_X25Y18:DSP48E2_X27Y89 DSP48E2_X16Y0:DSP48E2_X24Y89 SLICE_X183Y60:SLICE_X191Y239 SLICE_X182Y60:SLICE_X182Y179 SLICE_X176Y60:SLICE_X181Y239 SLICE_X165Y15:SLICE_X175Y239 SLICE_X164Y15:SLICE_X164Y179 SLICE_X153Y15:SLICE_X163Y239 SLICE_X152Y15:SLICE_X152Y179 SLICE_X140Y15:SLICE_X151Y239 SLICE_X139Y15:SLICE_X139Y179 SLICE_X125Y15:SLICE_X138Y239 SLICE_X124Y15:SLICE_X124Y179 SLICE_X120Y15:SLICE_X123Y239',

  'WRAPPER_VERTEX_CR_X4Y4_To_CR_X7Y7': 'URAM288_X2Y64:URAM288_X4Y127 RAMB36_X8Y48:RAMB36_X11Y95 RAMB18_X8Y96:RAMB18_X11Y191 DSP48E2_X28Y114:DSP48E2_X28Y161 DSP48E2_X16Y90:DSP48E2_X27Y185 SLICE_X192Y300:SLICE_X198Y419 SLICE_X183Y240:SLICE_X191Y479 SLICE_X182Y300:SLICE_X182Y419 SLICE_X165Y240:SLICE_X181Y479 SLICE_X164Y300:SLICE_X164Y419 SLICE_X153Y240:SLICE_X163Y479 SLICE_X152Y300:SLICE_X152Y419 SLICE_X140Y240:SLICE_X151Y479 SLICE_X139Y300:SLICE_X139Y419 SLICE_X125Y240:SLICE_X138Y479 SLICE_X124Y300:SLICE_X124Y419 SLICE_X120Y240:SLICE_X123Y479',

  'WRAPPER_VERTEX_CR_X4Y8_To_CR_X7Y11': 'URAM288_X2Y128:URAM288_X4Y191 RAMB36_X8Y96:RAMB36_X11Y143 RAMB18_X8Y192:RAMB18_X11Y287 DSP48E2_X28Y210:DSP48E2_X28Y281 DSP48E2_X16Y186:DSP48E2_X27Y281 SLICE_X195Y540:SLICE_X200Y719 SLICE_X194Y540:SLICE_X194Y659 SLICE_X192Y540:SLICE_X193Y719 SLICE_X183Y480:SLICE_X191Y719 SLICE_X182Y540:SLICE_X182Y659 SLICE_X165Y480:SLICE_X181Y719 SLICE_X164Y540:SLICE_X164Y659 SLICE_X153Y480:SLICE_X163Y719 SLICE_X152Y540:SLICE_X152Y659 SLICE_X140Y480:SLICE_X151Y719 SLICE_X139Y540:SLICE_X139Y659 SLICE_X125Y480:SLICE_X138Y719 SLICE_X124Y540:SLICE_X124Y659 SLICE_X120Y480:SLICE_X123Y719'
}


ANCHOR_REGIONS = (
  ('WRAPPER_VERTEX_CR_X0Y8_To_CR_X3Y11', 'SOUTH'),
  ('WRAPPER_VERTEX_CR_X0Y4_To_CR_X3Y7', 'SOUTH'),
  ('WRAPPER_VERTEX_CR_X4Y8_To_CR_X7Y11', 'SOUTH'),
  ('WRAPPER_VERTEX_CR_X4Y4_To_CR_X7Y7', 'SOUTH'),
  ('WRAPPER_VERTEX_CR_X0Y8_To_CR_X3Y11', 'EAST'),
  ('WRAPPER_VERTEX_CR_X0Y4_To_CR_X3Y7', 'EAST'),
  ('WRAPPER_VERTEX_CR_X0Y0_To_CR_X3Y3', 'EAST'),
)

# two columns of SLICE near the boundary of the island
ISLAND_BOUNDARY_SLICE = '''
  SLICE_X114Y15:SLICE_X122Y719
  SLICE_X190Y60:SLICE_X191Y239
  SLICE_X174Y15:SLICE_X175Y59
  SLICE_X120Y15:SLICE_X175Y16
  SLICE_X176Y60:SLICE_X191Y61
  
  SLICE_X192Y300:SLICE_X198Y301
  SLICE_X197Y300:SLICE_X198Y419
  SLICE_X192Y418:SLICE_X198Y419
  SLICE_X192Y520:SLICE_X200Y521
  SLICE_X199Y540:SLICE_X200Y719
'''
